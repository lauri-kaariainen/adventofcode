{"version":3,"sources":["index.ts"],"names":[],"mappings":";AAAA,aAGA,IAAM,GAAY,IAAI,MAAO,UAGvB,EAAiB,SAAjB,EACF,EACA,EACA,GAEA,OAAA,EAAa,SAAS,GAClB,EAAe,EAAM,EAAc,EAAsB,GACzD,EAAsB,EAClB,EAAe,EAAM,EAAc,KAAK,IAAG,MAAR,KAAY,IAC/C,GAEN,EAAa,SAAb,EAAc,EAAgB,EAAe,GAE/C,YAF+C,IAAA,IAAA,EAAA,GAE9C,EAEG,GAAS,EAAK,OACV,EAAW,EAAM,EAAG,GACpB,EACI,EACK,MAAM,EAAG,GACT,OACG,EAAK,MAAM,EAAQ,IAC3B,EACA,EAAmB,GAT3B,GAYF,EAAU,SAAV,EAAW,EAAgB,EAAqB,GAClD,OAAC,EAAU,OAEP,GAAS,EAAK,OACV,EAAQ,EAAM,EAAW,GACzB,EACI,EACK,MAAM,EAAG,EAAQ,GACjB,OACG,EAAU,IAEb,OAAO,EAAK,MAAM,EAAQ,IAC/B,EAAU,MAAM,GAChB,EAAQ,GAXhB,GAeF,EAAY,IAEZ,EAAgB,SAAhB,EACF,EACA,EACA,EACA,GAGI,QALJ,IAAA,IAAA,EAAA,SACA,IAAA,IAAA,EAAA,QACA,IAAA,IAAA,EAAwB,EAAK,IAGzB,GAAQ,EACR,OAAO,EAEL,IAAA,EAAQ,EAAK,QAAQ,GAErB,EACF,EAAK,QAAU,EAAQ,IAAM,EACzB,EAAK,MAAM,EAAQ,EAAI,EAAQ,EAAK,GACpC,EACK,MAAM,EAAQ,GACd,OAAO,EAAK,MAAM,EAAG,GAAK,EAAK,QAAU,EAAQ,MAExD,EACF,EACI,EACA,EACA,EAAK,GAAS,GAIhB,EAAuB,EAAW,EAAM,EAAQ,GAEhD,EAAU,EACZ,EACA,EACA,EAAqB,QAAQ,IAW1B,OAAA,EACH,EACA,EACA,EAAO,EACP,EAAQ,EAAQ,QAAQ,GAAiB,KAsBjD,SAAS,IAAI,IAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,EAAA,GAAA,UAAA,GACgB,oBAAb,UACR,QAAQ,IAAG,MAAX,QAAe,GACf,SAAS,cAAc,OAAQ,WAAa,QAAU,EAAK,KAAK,MAKxE,SAAS,IACG,MAAA,YAGZ,SAAS,IAED,MAAA,YA9BR,EAAI,OAEA,EACI,EAAU,MAAM,IAAI,IAAI,SAAC,GAAsB,OAAA,SAAS,KACxD,MAGR,EAAI,MAGJ,EACI,mBACA,IAAI,MAAO,UAAY,EACvB","file":"index.js","sourceRoot":"../src","sourcesContent":["// import { arrayRotateLeft } from \"../../../helpmodule.js\";\r\n\r\n\r\nconst startTime = new Date().getTime()\r\n\r\n\r\nconst getDestination = (\r\n    cups: number[],\r\n    pickedUpCups: number[],\r\n    possibleDestination: number\r\n): number =>\r\n    pickedUpCups.includes(possibleDestination) ?\r\n        getDestination(cups, pickedUpCups, possibleDestination - 1) :\r\n        possibleDestination < 1 ?\r\n            getDestination(cups, pickedUpCups, Math.max(...cups)) :\r\n            possibleDestination\r\n\r\nconst removeCups = (cups: number[], index: number, cupsLeftToRemove: number = 3)\r\n    : number[] =>\r\n    !cupsLeftToRemove ?\r\n        cups :\r\n        index >= cups.length ?\r\n            removeCups(cups, 0, cupsLeftToRemove) :\r\n            removeCups(\r\n                cups\r\n                    .slice(0, index)\r\n                    .concat(\r\n                        cups.slice(index + 1)),\r\n                index,\r\n                cupsLeftToRemove - 1\r\n            )\r\n\r\nconst addCups = (cups: number[], cupsToAdd: number[], index: number): number[] =>\r\n    !cupsToAdd.length ?\r\n        cups :\r\n        index >= cups.length ?\r\n            addCups(cups, cupsToAdd, 0) :\r\n            addCups(\r\n                cups\r\n                    .slice(0, index + 1)\r\n                    .concat(\r\n                        cupsToAdd[0]\r\n                    )\r\n                    .concat(cups.slice(index + 1)),\r\n                cupsToAdd.slice(1),\r\n                index + 1\r\n            )\r\n\r\n\r\nconst usedInput = getTestInput();\r\n\r\nconst goThroughGame = (\r\n    cups: number[],\r\n    targetSteps: number = 10,\r\n    step: number = 0,\r\n    positionValue: number = cups[0]\r\n)\r\n    : number[] => {\r\n    if (step >= targetSteps)\r\n        return cups\r\n\r\n    const index = cups.indexOf(positionValue)\r\n\r\n    const pickedUp =\r\n        cups.length - (index + 1) >= 3 ?\r\n            cups.slice(index + 1, (index + 1) + 3) :\r\n            cups\r\n                .slice(index + 1)\r\n                .concat(cups.slice(0, 3 - (cups.length - (index + 1))))\r\n\r\n    const destination =\r\n        getDestination(\r\n            cups,\r\n            pickedUp,\r\n            cups[index] - 1\r\n        )\r\n\r\n\r\n    const cupsWithoutPickedUps = removeCups(cups, index + 1)\r\n\r\n    const newCups = addCups(\r\n        cupsWithoutPickedUps,\r\n        pickedUp,\r\n        cupsWithoutPickedUps.indexOf(destination)\r\n    )\r\n\r\n\r\n    // console.log(\r\n    //     cups,\r\n    //     cupsWithoutPickedUps,\r\n    //     `index:${index}`,\r\n    //     `cups[${cups.indexOf(destination)}]:${destination}`,\r\n    //     pickedUp)\r\n\r\n    return goThroughGame(\r\n        newCups,\r\n        targetSteps,\r\n        step + 1,\r\n        newCups[newCups.indexOf(positionValue) + 1]\r\n    )\r\n\r\n\r\n}\r\n\r\nlog(\"a:\\n\",\r\n\r\n    goThroughGame(\r\n        usedInput.split(\"\").map((n: string): number => parseInt(n)),\r\n        100\r\n    )\r\n)\r\nlog(\"b:\",\r\n\r\n)\r\nlog(\r\n    \"everything took\",\r\n    new Date().getTime() - startTime,\r\n    \"ms\"\r\n)\r\n\r\nfunction log(...args: any[]): void {\r\n    if (typeof (console) !== 'undefined') {\r\n        console.log(...args);\r\n        document.querySelector('pre')!.innerHTML += \"<br/>\" + args.join(\" \");\r\n    }\r\n}\r\n\r\n\r\nfunction getTestInput(): string {\r\n    return (`389125467`)\r\n}\r\n\r\nfunction getInput(): string {\r\n    return (\r\n        `156794823`\r\n    );\r\n}\r\n"]}