// import { find4 } from "../../helpmodule.js";
"use strict";

const testInputArr: string[] = getTESTInput();
const inputArr: string[] = getInput();

const iterateOverForest = (
    forest: string[],
    stepY: number = 1,
    stepX: number = 1,
    positionY: number = 0,
    positionX: number = 0,
    treesEncountered: number = 0): any =>
    positionY >= forest.length ?
        treesEncountered :
        iterateOverForest(
            forest,
            stepY,
            stepX,
            positionY + stepY,
            positionX + stepX,
            forest[positionY][positionX % (forest[positionY].length)] == "#" ? treesEncountered + 1 : treesEncountered);




log("test a:",
    iterateOverForest(testInputArr, 1, 3)

)

log("a:",
    iterateOverForest(inputArr, 1, 3)
)


log("test b:",
    iterateOverForest(testInputArr, 1, 1) *
    iterateOverForest(testInputArr, 1, 3) *
    iterateOverForest(testInputArr, 1, 5) *
    iterateOverForest(testInputArr, 1, 7) *
    iterateOverForest(testInputArr, 2, 1)

)

log("b:",
    iterateOverForest(inputArr, 1, 1) *
    iterateOverForest(inputArr, 1, 3) *
    iterateOverForest(inputArr, 1, 5) *
    iterateOverForest(inputArr, 1, 7) *
    iterateOverForest(inputArr, 2, 1)
)


function log(...args: any[]): void {
    if (typeof (console) !== 'undefined') {
        console.log(...args);
        document.querySelector('pre')!.innerHTML += "<br/>" + args.join(" ");
    }
}



function getTESTInput(): string[] {
    return (`..##.......
    #...#...#..
    .#....#..#.
    ..#.#...#.#
    .#...##..#.
    ..#.##.....
    .#.#.#....#
    .#........#
    #.##...#...
    #...##....#
    .#..#...#.#`.split("\n").map((line: string) => line.trim()))
}

function getInput(): string[] {
    return (
        `.##.............##......#.....#
        .#.#................#..........
        ...#..#.##..#.#......#.#.#.#..#
        ..#......#........#..#..#.#.#..
        .......#....#..#..#.......#....
        ..#..#..##.#...#........#.###..
        ..#...#..#.....#.##....#.......
        ....#..###.#......#.##..#...##.
        ..#..........#.##.#...#........
        #...#............##....#..##...
        .......##....#.....##..#.#..#.#
        ..#..#..#...#....#....#....#...
        .#...#.##........#####........#
        ..#..#......#.....##...#.......
        ....#......##....#.#....#.#..##
        #.#.##....##..#.........#.###..
        ##..###..#..#.......###.......#
        ...#.#......#.........#....#...
        .....#..........#.....##..#.#..
        ....##......#.#..#....#.#......
        ..#.....#..##.......##......#..
        .........##.##.#..##...........
        ....#...#.....#....#.#.###....#
        .##.#..#...##..#.......#......#
        ##..#..#..####..#.#..#...#.....
        ..###..#..#..#.###..#....#.##..
        ......#...###.#.#.....#........
        .....#...#.#...#.......#.....#.
        #........#..##...........#..#..
        .#.##.##...#.....#.#....#..#...
        ..##.##....#.....#....#....##..
        #.........##...##..#.....#..#..
        ........#.####....#...##.....#.
        .#.#...#..#..#.#......##.....#.
        ..#..........##..#.#.#....#...#
        #.......#...#...#.....#.##.#...
        ..#.....#..#.....####.#..#.#.##
        ...#.#..#...#.....#...#.#.#.#.#
        .#..##....##.....#..#....###...
        ....#......##.#.#.....#......#.
        ..#.#...#......#.....##.......#
        ..#...###...#..#.#...#..#.....#
        #..............#.....#....##..#
        .#...#.......#.............#...
        ..###....#.##........#.#.......
        #.##.......#..#............###.
        #...#..##.#.#............######
        ..##..#....#.#.###...#..##.##..
        .#...#.###.#....#...#....#...#.
        #...#.......#...........#...##.
        ##.#......#####.............#..
        ....#..#......##..#..........#.
        #.....#.....#.#.......#...#...#
        ....#...#.#..##........#.#..##.
        ..##.....##............#.#.###.
        #.........#........#..###......
        ............#..................
        .#.###...####...#.#..#......#..
        ...##.###.#....##.#..####..#.##
        ..#####.#.##...#.#...##.##....#
        ........##...#...#....##.....##
        #...........###...#.#...##.#...
        ##......#...#.......###........
        ..#..#.##.#..###....#..#.###.#.
        ...#.#.#...#....#.##..#...#....
        ........#.##...##.#.....##...##
        .#..........##..#..#..#.#...#..
        #.#...#.##.#....#.##..#........
        .#.#.#....##..##.####.....###..
        ..#....##....#..#..#..##.......
        ..##...#.......#...##.#....#...
        ...####.#.#...........#.#...#..
        ....####.....#.#.....#....##.##
        ..#.....#.#.............##....#
        #.#....#####.##..####.#...#.#..
        #.#....#.##.#.#.##..#.#...#....
        ......#.......#.......#.....#..
        ..#.....#....###.###..#..#..#..
        #..#....##.###...##.....#......
        ..#..#...#..#.##..........#....
        ...#.#.#......#....#.##..#..##.
        ....##.#....#..#...##....###...
        ##.#.###.....#..#.#.#..#.....##
        ##..#.#........#...#..#.#......
        ....#.#.......##.#...........#.
        .......##...#...#...#.....#....
        .....#....#..#..###.#...#......
        ............#.#..#......#.#....
        ...##..#.##....##..##.#......#.
        #.#.#......#.#.....#.#.#..#.#.#
        ...###..........#..#..#.##.....
        ......#......#......###..##....
        #...##...#....#....#..#...#.#..
        .......#..#......##.......#....
        ...#..#..#.....#.....#......##.
        ..#....###..........##..#...#..
        ..........#..#.#...#......#..#.
        #...#....#.##.........#.#.#...#
        .#.#.#...#.#...#.#..#..#....#.#
        #.##....#..#.........#.##.##..#
        ..#.#..##.#....#.###.#...#....#
        .#.......#...#.#.........#....#
        .......#...#..........#.#..#...
        ...#.....##..#....#...###...#.#
        #....##.##..........#.......#..
        .##..##......#...#....#.##....#
        ....#.....##...##.#..#.........
        ...#.#..##.#.#..#.......#....#.
        .#...#.#.#.#..#..#.##.......#..
        ..#..##...#.#..#.......#.#####.
        .......#.#...........#....#.#..
        .#.###..........#...#..#...#...
        ..#.#............##......##....
        ...##..#...###...##....#.#.##..
        ....#.##...#..#.#.#...........#
        ....#..#....##.....#.##.#.....#
        ..##......##.#.........#....#.#
        ###...#...#..#.#...#...........
        .####.....#.....#.#....#..#....
        .#....#..#..#..#...##.....###.#
        #....##.#....#.##..#......##..#
        .........#..#.#.....#.#....##.#
        .....#.#...#....#.#...#....#..#
        .#...#.#.....#.#......#.#......
        #....##.......#.............#..
        #..#...#........##..#..#......#
        ####..##.#..##..#.........####.
        .#.##..#.#..#.#.#.##...#..#.#.#
        .##.#..#............#......#...
        ###....#.##....#..#...#........
        .....#..###..........#..#......
        .##..##.....#..##....#...#.....
        #...##...........#..#...###..#.
        #..##....#...#.##.##....#......
        ...#...#..#.#.......##.......##
        ....#.....#..#...#.........#.#.
        .#...##.#......#.#..#..#...##..
        ...##...##.##...##...#..#......
        #..##.#..#..#............#...#.
        ..#.....#.........#........#.#.
        #.#...#...#......#.#......#....
        .##.....##.#.#....#.##...##.#..
        .##..##.#.#....#.##............
        .#.##.....##.#...#...###....#..
        .#..............#.#....###.###.
        ....#..#...#.#.#..........#.#.#
        .#.#..#.#.#...###..#...##......
        .#.#.....###......#..........#.
        ........#.##...............#.#.
        ...#.#.#......#..#..##........#
        ..#.##......#.......#..#......#
        ...#...#...#...#..#..#........#
        ..#....#.....#....#..##........
        .....#..#...##....#......##....
        ...##..##..#..........##....#.#
        ..#....#..#...#.##..#.....##...
        ###...#.#....#........#.......#
        ......#...#..#....###.........#
        ..###.#...#...#...#.#..###.#...
        .##.#.......#.#..#..#......#.#.
        ...##...........#.#..#.#..#....
        .......#.....####.#.....#...#.#
        ......##......##.#.#.#...#.#..#
        ..###.#####..#....#.#...#..##..
        .....#..#......#........#......
        #..##....#.#.##....#....#......
        .#....#.##.####.##..#..#......#
        #...##...#.#...##.#.##.##...#..
        ........#.#........#.#...#..#..
        .#....###..#......#.##.###..#..
        .#..#..#..#..#...#.#.........##
        ....#...#..#..............#....
        ........#...##.....#.......#...
        ..#......#.#..#.#..#.#.#...###.
        ....#...####....###....#......#
        #...#.#...................#.##.
        ..#.#.###...#....##....##......
        #..##..#.........#....#....####
        .#....###...#.#...#......#...#.
        ......#..#.#..#.##...#.#.#..#..
        .#...#.#.....#..##......#..#...
        ##.#..##.....##.#.#.......##...
        .##.##.##..#...#.#.##.##.......
        .#.#......#.....#...#.#..#.....
        ...#...........#..#.##..##..#..
        .....#...##......#........#.#..
        ....#..............##.........#
        ..####.#....##..##......##.#.#.
        .#.#..#...#..........#...###..#
        ....#.#.##.....###.#..#.##.....
        .......##.#.#..#...#...##.#....
        ...#.##.....#....#...#...#.....
        ##.#.##..#..#.#.....#.#..#.....
        ..#..##........#....###..#..#..
        ..#.........##.....#......#...#
        ...##..........##......#.#.#...
        #.....#..#..#......#......#....
        .##...#..##....#.......##..#.#.
        .#...##...##......####.##.#....
        .....#.........#.#.####......#.
        ...#.....#.#.........##..#.....
        ##.#.###.#..#.#..#............#
        ...##..#.#....#....#..#........
        ..#.###......#...#.#.....#...#.
        ....##.##..#.....#...#.#.#....#
        .......#.#..#...........#.#....
        .#.#..##.#.......#.#..#.....###
        ...#.#.....#.#..#.##..#...#.#..
        ...#......##....#..............
        ......#...#....................
        ..#........#...##.##.#..#.#.#..
        .#.###.#.##..##..#....##....#..
        .....#..#.#...#.#..#..#.......#
        ..........#.##.#..##..####.....
        ............#.#......#.........
        .#....#..#......#.....##.......
        .....#........#.....##.#..#.#..
        #..#.##...#.#.....#...#.####...
        ......#...#....#.##..##.#...#..
        .#.#.##......##....#.#....#.##.
        #.#.#....#.###....##....##.....
        .##..#...#.##......#..#..#...##
        ...#....###....#...........#.#.
        #.#.##.##...##....#....##.#...#
        .#.#######.......#......#......
        #......#...#.#.#.###....#.##..#
        ......##..#..##.........##.#.##
        ....##...#.#....##.....#.....#.
        ..#.#........##........#.#..##.
        .....#..#.##.....#.....#..#.#..
        .#..............#.......#......
        .............#..#..........#...
        .#..#.##....##.#..#...##.......
        ...........#..#.......#.#....#.
        .#..#..........##...#.#.#...#..
        ......#....#..###....#......#..
        .#...#...##..#..#..##..#..#.#..
        #.#.........#....#..........##.
        ...##..#..##...#....##...##.##.
        ..#....#.####.........#.....##.
        .....#.#...#.#...#.##.#...##..#
        #...#.....#..#.......#...#..#..
        ..#.......#..##.#.....#....#...
        .#.....#..##.#.....#...#.#...#.
        .....#.##..........##....#...#.
        ...#....#...#........##...#...#
        ....##...#....#..........#.....
        ...#....##..#..####..##.#...#.#
        #...###.###..#....##.#.........
        .#.......#......#.........#....
        ..#..##..#.........##..........
        #......#.#.##...#...#####......
        ......#.....####......#....#...
        .........#..#..#...#....#.#....
        ....#........#...##....#.......
        ...##.#...#..........#....#....
        ........#.......#.##..#..#...#.
        ....#..##...........#.....#..#.
        #....#...............#.#....#..
        .#........#....#.#...#.......#.
        #.......##..........#.......#..
        ...#....#...##.#..#.......#....
        #..#.##...#.#...#...#...#....#.
        ###...#...#....#....#....#...#.
        ##......#.#.......#....#..#....
        ......#......#....#.#.#..###..#
        .#.#.##.....#..#..........#....
        ##...#.#.#..##....#.....#.#....
        #.##...#...#.#...####..#.......
        .....##..#.#.#....#..##..#.#...
        ....###.#.........##.....#.....
        ......##...........#........#.#
        .#.........##..................
        .........##...#.............#.#
        ......##...#...#.........#..##.
        #..#.......#..##.......###.....
        ....#.#.....#............##....
        .....#..#......#....#.....##...
        ##......##...................#.
        #....#............#.#.###.##...
        .#.....#........#.....#...#....
        ......##.......######......##..
        .#....##....#..###....#.......#
        ..............##.#..#.......#.#
        .#..#..........#..#.##.........
        ......##.#..#......#.#....##.#.
        #.....#.##...#.....#...#..#...#
        .#....#..##.....#.....#.#.#....
        ..#......#.##..#.........#.#.#.
        .#..##...#...#.....#..#..#.#..#
        #.#.##.##.................#.#.#
        .#..#.#..##.#.......#.......##.
        #...#...#..##...#...##...#...#.
        ....#......#..#...#.....##..#..
        ..............##......#...#.#..
        ..##..#.......#..#..###.#.#....
        .#..#..#...#.......#...#...##.#
        .#...#.......###..#.##.###.....
        ##.#...#......#.....#..#.......
        ##....##............#.....#..#.
        .....#...##......##.....#....##
        #...##..#....#..##....###.#...#
        .....#..#.#.....#.##..##....#..
        .#.....#.#........#...#.#......
        ......#....#.#........#.#......
        .##..#...............###...##.#
        .......###.#.#......###.....#..
        .......#..##...#....#.##..#.##.
        ..#.......##.......#.....#....#
        .#......#....#..##..#.#.#..##..
        ###......#...#..#.............#
        .#....#..#.#......##...........
        .#....#.##.....#..#.......#..##
        ....#...#...#..#.....#..##..#.#
        #.#.#.......##.#..#.#....#.....
        ##.#.......#...#...#.#......##.
        #....#.#...........#######.....
        ...#.#.##.#......##..###.......
        ..#.#....#..#.................#
        ........#..##..#.....#....#.##.
        ...#.#..#..#..#..............##
        .##.......###.#......#....#..##
        ..##.##.#......#....#..#...#..#`.split("\n").map((line: string) => line.trim())
    );
}