<body><pre>check console
this takes a few minutes probably to reach B</pre></body>
<script>

"use strict"




const input = 
`0: 3
1: 2
2: 4
4: 4
6: 5
8: 6
10: 6
12: 6
14: 6
16: 8
18: 8
20: 8
22: 8
24: 10
26: 8
28: 8
30: 12
32: 14
34: 12
36: 10
38: 12
40: 12
42: 9
44: 12
46: 12
48: 12
50: 12
52: 14
54: 14
56: 14
58: 12
60: 14
62: 14
64: 12
66: 14
70: 14
72: 14
74: 14
76: 14
80: 18
88: 20
90: 14
98: 17`;


const testInput = 
`0: 3
1: 2
4: 4
6: 4`;


const mapInputToList = (input)=>
    input
     .split('\n')
     .map(line=>(
        {
            depth:parseInt(line.split(": ")[0]),
            range:parseInt(line.split(": ")[1]),
        }))


const solveA = (fireWallArr) =>
	fireWallArr
		.map(e=>
			//(console.log(e.depth,e.range*2-2),
			((e.depth) % (e.range*2-2) === 0 ? e.depth*e.range:
											  0))
		.reduce((a,b)=>a+b,0)



const solveB = (fireWallArr,depthBonus) =>{

	depthBonus = depthBonus || 0;
	if(depthBonus % 10000 === 0)
		console.log("steps done:",depthBonus)
	return fireWallArr
		.map(e=>
			//(console.log(e.depth+depthBonus,e.range*2-2),
			((e.depth+depthBonus) % (e.range*2-2) === 0 ? e.depth+e.range:
											  0))
		.reduce((a,b)=>a+b,0)

}


console.log(
	"A:",
	solveA(
		mapInputToList(
			input))
)
let result = 1;
let step = 0;
while(result !== 0){
	step++;
	result = 
		solveB(
		mapInputToList(
			input),step)
}
console.log("B:",step);


 

</script>
